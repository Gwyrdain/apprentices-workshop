{"changed":true,"filter":false,"title":"show.html.erb","tooltip":"/app/views/rooms/show.html.erb","value":"<%- model_class = Room -%>\n\n<div class=\"panel panel-default\">\n    <div class=\"panel-heading monospace\"><h3>\n        <%= link_to @area.name, area_path(@area) %> /\n        <%= link_to 'Rooms', area_rooms_path(@area) %> /\n        Room: <%= @room.vnum %>\n    </h3></div>\n    <div class=\"panel-body monospace\">\n\n      <div class=\"row\">\n        <div class=\"col-md-2\">\n          <strong>Formal Vnum:</strong>\n        </div>\n        <div class=\"col-md-10\">\n          <div class=\"col-md-10\">\n            <%= @room.formal_vnum %>\n          </div>\n        </div>\n      </div><br/>\n\n      <div class=\"row\">\n        <div class=\"col-md-2\">\n          <strong><%= model_class.human_attribute_name(:name) %>:</strong>\n        </div>\n        <div class=\"col-md-10\">\n          <div class=\"col-md-10\">\n            <%= @room.name %>\n          </div>\n        </div>\n      </div><br/>\n\n      <div class=\"row\">\n        <div class=\"col-md-2\">\n          <strong><%= model_class.human_attribute_name(:description) %>:</strong>\n        </div>\n        <div class=\"col-md-10\">\n          <div class=\"col-md-10\">\n            <%= simple_format(word_wrap(@room.description, line_width: 75)) %>\n          </div>\n        </div>\n      </div><br/>\n\n      <div class=\"row\">\n        <div class=\"col-md-2\">\n          <strong><%= model_class.human_attribute_name(:room_flags) %> value:</strong>\n        </div>\n        <div class=\"col-md-10\">\n          <div class=\"col-md-10\"><%= @room.room_flags %></div>\n        </div>\n      </div><br/>\n      \n      <div class=\"row\">\n        <div class=\"col-md-2\">\n          <strong><%= model_class.human_attribute_name(:room_flags) %>:</strong>\n        </div>\n        <div class=\"col-md-10\">\n          <% if @room.room_flags == 0 %><div class=\"col-md-2\">NONE</div><% end %>\n          <% if @room.dark? %><div class=\"col-md-2\">DARK</div><% end %>\n          <% if @room.no_sleep? %><div class=\"col-md-2\">NO SLEEP</div><% end %>\n          <% if @room.no_mob? %><div class=\"col-md-2\">NO MOB</div><% end %>\n          <% if @room.indoors? %><div class=\"col-md-2\">INDOORS</div><% end %>\n          <% if @room.foggy? %><div class=\"col-md-2\">FOGGY</div><% end %>\n          <% if @room.private_room? %><div class=\"col-md-2\">PRIVATE</div><% end %>\n          <% if @room.peaceful? %><div class=\"col-md-2\">PEACEFUL</div><% end %>\n          <% if @room.solitary? %><div class=\"col-md-2\">SOLITARY</div><% end %>\n          <% if @room.no_recall? %><div class=\"col-md-2\">NO RECALL</div><% end %>\n          <% if @room.no_steal? %><div class=\"col-md-2\">NO STEAL</div><% end %>\n          <% if @room.notrans? %><div class=\"col-md-2\">NOTRANS</div><% end %>\n          <% if @room.no_spell? %><div class=\"col-md-2\">NO SPELL</div><% end %>\n          <% if @room.no_fly? %><div class=\"col-md-2\">NO FLY</div><% end %>\n          <% if @room.fly_ok? %><div class=\"col-md-2\">FLY OK</div><% end %>\n          <% if @room.no_quest? %><div class=\"col-md-2\">NO QUEST</div><% end %>\n          <% if @room.no_item? %><div class=\"col-md-2\">NO ITEM</div><% end %>\n          <% if @room.no_vnum? %><div class=\"col-md-2\">NO VNUM</div><% end %>\n        </div>\n      </div><br/>\n\n      <div class=\"row\">\n        <div class=\"col-md-2\">\n          <strong><%= model_class.human_attribute_name(:terrain) %> value:</strong>\n        </div>\n        <div class=\"col-md-10\">\n          <div class=\"col-md-10\"><%= @room.terrain %></div>\n        </div>\n      </div><br/>\n\n      <div class=\"row\">\n        <div class=\"col-md-2\">\n          <strong><%= model_class.human_attribute_name(:terrain) %>:</strong>\n        </div>\n        <div class=\"col-md-10\">\n          <% if @room.terrain == 0 %><div class=\"col-md-2\">INSIDE</div><% end %>\n          <% if @room.terrain == 1 %><div class=\"col-md-2\">CITY</div><% end %>\n          <% if @room.terrain == 2 %><div class=\"col-md-2\">FIELD</div><% end %>\n          <% if @room.terrain == 3 %><div class=\"col-md-2\">FOREST</div><% end %>\n          <% if @room.terrain == 4 %><div class=\"col-md-2\">HILLS</div><% end %>\n          <% if @room.terrain == 5 %><div class=\"col-md-2\">MOUNTAIN</div><% end %>\n          <% if @room.terrain == 6 %><div class=\"col-md-2\">WATER SWIM</div><% end %>\n          <% if @room.terrain == 7 %><div class=\"col-md-2\">WATER NOSWIM</div><% end %>\n          <% if @room.terrain == 8 %><div class=\"col-md-2\">UNDERWATER</div><% end %>\n          <% if @room.terrain == 9 %><div class=\"col-md-2\">AIR</div><% end %>\n          <% if @room.terrain == 10 %><div class=\"col-md-2\">DESERT</div><% end %>\n        </div>\n      </div><br/>\n\n      <%= render 'rooms/exitmap', :room => @room %>\n          \n      <div class=\"row\">\n        <div class=\"col-md-2\">\n          <strong>Exits:</strong>\n        </div>\n        <div class=\"col-md-10\">\n          <div class=\"col-md-10\">\n            <table class=\"table table-hover monospace\">\n              <thead>\n                <tr>\n                  <th>Direction</th>\n                  <th>Description</th>\n                  <th>Keywords</th>\n                  <th>Type</th>\n                  <th>Key Vnum</th>\n                  <th>Exit To</th>\n                  <th>Name</th>\n                  <th><%=t '.actions', :default => t(\"helpers.actions\") %></th>\n                </tr>\n              </thead>\n              <tfoot><tr><td colspan = '100%'>\n                <%= link_to 'New Exit', new_area_room_exit_path(@area, @room), :class => 'btn btn-primary' %>\n              </td></tr></tfoot>\n              <tbody>\n                <% @room.exits.order(:direction).each do |exit| %>\n                  <tr>\n                    <td><%= exit.direction_word %></td>\n                    <td><%= exit.description %></td>\n                    <td><%= exit.keywords %></td>\n                    <td><%= exit.exittype %><% if not exit.dir_type_combo_ok? %><span style=\"color:red\"> <%= glyph 'exclamation-sign' %></span><% end %></td>\n                    <td><%= exit.keyvnum %></td>\n                    <td><% if exit.destination_exists? %>\n                          <%= link_to exit.exitto, area_room_path(@area, Room.where([\"vnum = ?\", exit.exitto]).first ) %>\n                        <% else %>\n                          <span style=\"color:red\"><%= exit.exitto %> <%= glyph 'exclamation-sign' %></span>\n                        <% end %>\n                    </td>\n                    <td><%= exit.name %></td>\n                    <td>\n                      <%= link_to area_room_exit_path(@area, @room, exit), :class => 'btn btn-xs', :title => \"#{ t('.show', :default => t('helpers.links.show')) }\" do %>\n                        <%= glyph 'info-sign' %>\n                      <%- end -%>\n                      <%= link_to edit_area_room_exit_path(@area, @room, exit), :class => 'btn btn-xs', :title => \"#{ t('.edit', :default => t('helpers.links.edit')) }\" do %>\n                        <%= glyph 'pencil' %>\n                      <%- end -%>\n                      <%= link_to area_room_exit_path(@area, @room, exit), :method => :delete, :data => { :confirm => t('.confirm', :default => t(\"helpers.links.confirm\", :default => 'Are you sure?')) }, :class => 'btn btn-xs', :title => \"#{ t('.destroy', :default => t('helpers.links.destroy')) }\" do %>\n                        <%= glyph 'remove' %>\n                      <%- end -%>\n                    </td>\n                  </tr>\n                <% end %>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      <br/>\n\n      <div class=\"row\">\n        <div class=\"col-md-2\">\n          <strong>Extra Descriptions:</strong>\n        </div>\n        <div class=\"col-md-10\">\n          <div class=\"col-md-10\">\n            <table class=\"table table-hover monospace\">\n              <thead>\n                <tr>\n                  <th>Keywords</th>\n                  <th>Description</th>\n                  <th><%=t '.actions', :default => t(\"helpers.actions\") %></th>\n                </tr>\n              </thead>\n              <tfoot><tr><td colspan = '100%'>\n                <%= link_to 'New Extra Description', new_area_room_rxdesc_path(@area, @room), :class => 'btn btn-primary' %>\n              </td></tr></tfoot>\n              <tbody>\n                <% @room.rxdescs.each do |rxdesc| %>\n                  <tr>\n                    <td><%= rxdesc.keywords %></td>\n                    <td><%= simple_format(truncate(rxdesc.description, length: 220, separator: ' ', omission: '[...]')) %></td>\n                    <td>\n                      <%= link_to area_room_rxdesc_path(@area, @room, rxdesc), :class => 'btn btn-xs', :title => \"#{ t('.show', :default => t('helpers.links.show')) }\" do %>\n                        <%= glyph 'info-sign' %>\n                      <%- end -%>\n                      <%= link_to edit_area_room_rxdesc_path(@area, @room, rxdesc), :class => 'btn btn-xs', :title => \"#{ t('.edit', :default => t('helpers.links.edit')) }\" do %>\n                        <%= glyph 'pencil' %>\n                      <%- end -%>\n                      <%= link_to area_room_rxdesc_path(@area, @room, rxdesc), :method => :delete, :data => { :confirm => t('.confirm', :default => t(\"helpers.links.confirm\", :default => 'Are you sure?')) }, :class => 'btn btn-xs', :title => \"#{ t('.destroy', :default => t('helpers.links.destroy')) }\" do %>\n                        <%= glyph 'remove' %>\n                      <%- end -%>\n                    </td>\n                  </tr>\n                <% end %>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n      <br/>\n      \n    <strong>Formatted room:</strong>\n    <p>\n        <pre><%= render 'rooms/roomblock', :room => @room %></pre>\n    </p>\n\n    </div>\n\n    <div class=\"panel-footer form-group\">\n      <%= link_to t('.back', :default => t(\"helpers.links.back\")),\n                  area_rooms_path(@area), :class => 'btn btn-default'  %>\n      <%= link_to t('.edit', :default => t(\"helpers.links.edit\")),\n                  edit_area_room_path(@area, @room), :class => 'btn btn-default' %>\n      <%= link_to t('.destroy', :default => t(\"helpers.links.destroy\")),\n                  area_room_path(@area, @room),\n                  :method => 'delete',\n                  :data => { :confirm => t('.confirm', :default => t(\"helpers.links.confirm\", :default => 'Are you sure?')) },\n                  :class => 'btn btn-danger' %>\n    </div>\n    \n</div>\n","undoManager":{"mark":-1,"position":1,"stack":[[{"group":"doc","deltas":[{"start":{"row":169,"column":28},"end":{"row":169,"column":29},"action":"remove","lines":["2"]},{"start":{"row":169,"column":28},"end":{"row":169,"column":29},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":170,"column":30},"end":{"row":170,"column":31},"action":"remove","lines":["2"]},{"start":{"row":170,"column":30},"end":{"row":170,"column":31},"action":"insert","lines":["0"]}]}]]},"ace":{"folds":[],"scrolltop":2322.5,"scrollleft":0,"selection":{"start":{"row":170,"column":31},"end":{"row":170,"column":31},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":164,"state":"start","mode":"ace/mode/html_ruby"}},"timestamp":1421644603770}