{"filter":false,"title":"areas_controller.rb","tooltip":"/app/controllers/areas_controller.rb","undoManager":{"mark":100,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":84,"column":9},"end":{"row":84,"column":10},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":10},"end":{"row":84,"column":11},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":11},"end":{"row":84,"column":12},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":12},"end":{"row":84,"column":13},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":84},"end":{"row":86,"column":89},"action":"remove","lines":["area2"]},{"start":{"row":86,"column":84},"end":{"row":86,"column":92},"action":"insert","lines":["area_ref"]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":96},"end":{"row":86,"column":97},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":97},"end":{"row":86,"column":98},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":98},"end":{"row":86,"column":99},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":69},"end":{"row":86,"column":70},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":70},"end":{"row":86,"column":71},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":67},"end":{"row":84,"column":68},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":67},"end":{"row":84,"column":68},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":66},"end":{"row":84,"column":67},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":68},"end":{"row":86,"column":85},"action":"remove","lines":[" ( @area.nil? && "]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":68},"end":{"row":86,"column":69},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":84},"end":{"row":86,"column":85},"action":"remove","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":83},"end":{"row":86,"column":84},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":82},"end":{"row":86,"column":83},"action":"remove","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":86,"column":82},"end":{"row":86,"column":83},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":4},"end":{"row":84,"column":101},"action":"remove","lines":["@area_ref = current_user.areas.find_by(id: params[:area_id]) # Use this when editing sub-elements"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":4},"end":{"row":84,"column":5},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":5},"end":{"row":84,"column":6},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":6},"end":{"row":84,"column":7},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":7},"end":{"row":84,"column":8},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":8},"end":{"row":84,"column":9},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":9},"end":{"row":84,"column":10},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":10},"end":{"row":84,"column":11},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":11},"end":{"row":84,"column":12},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":11},"end":{"row":84,"column":12},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":11},"end":{"row":84,"column":12},"action":"insert","lines":["_"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":12},"end":{"row":84,"column":13},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":13},"end":{"row":84,"column":14},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":14},"end":{"row":84,"column":15},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":15},"end":{"row":84,"column":16},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":16},"end":{"row":84,"column":17},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":16},"end":{"row":84,"column":17},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":16},"end":{"row":84,"column":17},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":17},"end":{"row":84,"column":18},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":18},"end":{"row":84,"column":19},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":19},"end":{"row":84,"column":20},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":20},"end":{"row":84,"column":21},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":21},"end":{"row":84,"column":22},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":22},"end":{"row":84,"column":23},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":23},"end":{"row":84,"column":24},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":24},"end":{"row":84,"column":25},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":25},"end":{"row":84,"column":26},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":26},"end":{"row":84,"column":27},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":27},"end":{"row":84,"column":28},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":27},"end":{"row":84,"column":28},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":26},"end":{"row":84,"column":27},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":25},"end":{"row":84,"column":26},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":24},"end":{"row":84,"column":25},"action":"remove","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":23},"end":{"row":84,"column":24},"action":"remove","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":23},"end":{"row":84,"column":24},"action":"insert","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":23},"end":{"row":84,"column":24},"action":"remove","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":23},"end":{"row":84,"column":24},"action":"insert","lines":["@"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":24},"end":{"row":84,"column":25},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":25},"end":{"row":84,"column":26},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":26},"end":{"row":84,"column":27},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":27},"end":{"row":84,"column":28},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":28},"end":{"row":84,"column":29},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":29},"end":{"row":84,"column":30},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":30},"end":{"row":84,"column":31},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":31},"end":{"row":84,"column":32},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":32},"end":{"row":84,"column":33},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":29},"end":{"row":84,"column":33},"action":"remove","lines":["user"]},{"start":{"row":84,"column":29},"end":{"row":84,"column":36},"action":"insert","lines":["user_id"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":4},"end":{"row":84,"column":36},"action":"remove","lines":["current_user.id == @area.user_id"]}]}],[{"group":"doc","deltas":[{"start":{"row":83,"column":4},"end":{"row":83,"column":5},"action":"insert","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":0},"end":{"row":84,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":84,"column":0},"end":{"row":85,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":85,"column":69},"end":{"row":85,"column":83},"action":"remove","lines":["@area_ref.nil?"]},{"start":{"row":85,"column":69},"end":{"row":85,"column":101},"action":"insert","lines":["current_user.id == @area.user_id"]}]}],[{"group":"doc","deltas":[{"start":{"row":85,"column":85},"end":{"row":85,"column":86},"action":"remove","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":85,"column":85},"end":{"row":85,"column":86},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":5},"end":{"row":89,"column":27},"action":"remove","lines":["!@area.share_publicly?"]},{"start":{"row":89,"column":5},"end":{"row":89,"column":37},"action":"insert","lines":["current_user.id != @area.user_id"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":4},"end":{"row":90,"column":16},"action":"remove","lines":["correct_user"]},{"start":{"row":90,"column":4},"end":{"row":90,"column":5},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":5},"end":{"row":90,"column":6},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":6},"end":{"row":90,"column":7},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":7},"end":{"row":90,"column":8},"action":"insert","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":7},"end":{"row":90,"column":8},"action":"remove","lines":["#"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":7},"end":{"row":90,"column":8},"action":"insert","lines":["@"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":8},"end":{"row":90,"column":9},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":9},"end":{"row":90,"column":10},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":10},"end":{"row":90,"column":11},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":11},"end":{"row":90,"column":12},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":12},"end":{"row":90,"column":13},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":13},"end":{"row":90,"column":14},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":14},"end":{"row":90,"column":15},"action":"insert","lines":["h"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":13},"end":{"row":90,"column":15},"action":"remove","lines":["sh"]},{"start":{"row":90,"column":13},"end":{"row":90,"column":27},"action":"insert","lines":["share_publicly"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":27},"end":{"row":90,"column":28},"action":"insert","lines":["?"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":7},"end":{"row":90,"column":8},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":29},"end":{"row":91,"column":0},"action":"insert","lines":["",""]},{"start":{"row":91,"column":0},"end":{"row":91,"column":6},"action":"insert","lines":["      "]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":6},"end":{"row":91,"column":103},"action":"insert","lines":["redirect_to :back, notice: \"Not authorized to edit this area\" if current_user.id != @area.user_id"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":52},"end":{"row":91,"column":56},"action":"remove","lines":["edit"]},{"start":{"row":91,"column":52},"end":{"row":91,"column":53},"action":"insert","lines":["v"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":53},"end":{"row":91,"column":54},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":54},"end":{"row":91,"column":55},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":55},"end":{"row":91,"column":56},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":67},"end":{"row":91,"column":103},"action":"remove","lines":[" if current_user.id != @area.user_id"]}]}],[{"group":"doc","deltas":[{"start":{"row":91,"column":67},"end":{"row":92,"column":0},"action":"insert","lines":["",""]},{"start":{"row":92,"column":0},"end":{"row":92,"column":6},"action":"insert","lines":["      "]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":6},"end":{"row":92,"column":7},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":7},"end":{"row":92,"column":8},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":92,"column":8},"end":{"row":92,"column":9},"action":"insert","lines":["d"]},{"start":{"row":92,"column":4},"end":{"row":92,"column":6},"action":"remove","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":0},"end":{"row":94,"column":3},"action":"remove","lines":["def can_user_view","  if current_user.id != @area.user_id","    if !@area.share_publicly?","      redirect_to :back, notice: \"Not authorized to view this area\"","    end","  end","end"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":0},"end":{"row":93,"column":0},"action":"insert","lines":["def correct_user","    #@area = current_user.areas.find_by(id: params[:id])","    #redirect_to areas_path, notice: \"Not authorized to edit this area\" if @area.nil?","    redirect_to :back, notice: \"Not authorized to edit this area\" if current_user.id != @area.user_id","end",""]}]}]]},"ace":{"folds":[],"scrolltop":1107,"scrollleft":0,"selection":{"start":{"row":88,"column":0},"end":{"row":94,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":21,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1423615116591,"hash":"dfd48bb73f0f6cc0dfef285d6685986ed9496c00"}