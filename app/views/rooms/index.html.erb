<%- model_class = Room -%>
<div class="page-header"><h3>
  <%= link_to @area.name, area_path(@area) %> / <strong><%=t '.title', :default => model_class.model_name.human.pluralize.titleize %></strong></h1>
</h3></div>
<table class="table table-hover monospace">
  <thead>
    <tr>
      <th>Local Vnum</th>
      <th>Formal Vnum</th>
      <th><%= model_class.human_attribute_name(:name) %></th>
      <th><%= model_class.human_attribute_name(:description) %></th>
      <th><%= model_class.human_attribute_name(:room_flags) %></th>
      <th><%= model_class.human_attribute_name(:terrain) %></th>
      <th>Exits</th>
      <th>Ex Descs</th>
      <th><%=t '.actions', :default => t("helpers.actions") %></th>
    </tr>
  </thead>
  <tbody>
    <% @rooms.order(:vnum).each do |room| %>
      <tr>
        <td><%= room.vnum %></td>
        <td><%= room.formal_vnum %></td>
        <td><%= room.name %></td>
        <td><%= simple_format(word_wrap(room.description, line_width: 75)) %></td>
        <td><%= room.room_flags %></td>
        <td><%= room.terrain %></td>
        <td><%= room.exits.count %></td>
        <td><%= room.rxdescs.count %></td>
        <td>
          <%= link_to area_room_path(@area, room), :class => 'btn btn-xs', :title => "#{ t('.show', :default => t('helpers.links.show')) }" do %>
            <%= glyph 'info-sign' %>
          <%- end -%>
          <%= link_to edit_area_room_path(@area, room), :class => 'btn btn-xs', :title => "#{ t('.edit', :default => t('helpers.links.edit')) }" do %>
            <%= glyph 'pencil' %>
          <%- end -%>
          <%= link_to area_room_path(@area, room), :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-xs', :title => "#{ t('.destroy', :default => t('helpers.links.destroy')) }" do %>
            <%= glyph 'remove' %>
          <%- end -%>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= link_to t('.new', :default => t("helpers.links.new")),
            new_area_room_path,
            :class => 'btn btn-primary' %>


<br/>
<br/>
<strong>Formatted #ROOMS Block:</strong>
<%= render 'rooms/roomsblock' %>
<br/>