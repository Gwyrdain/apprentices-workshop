<%- model_class = Obj -%>
<div class="panel panel-default monospace">
    <div class="panel-heading"><h3>
      <%= link_to @area.name, area_path(@area) %> / Objects
      <%= link_to new_area_obj_path(@area), :class => 'btn btn-xs', :title => "#{ t('.new', :default => t('helpers.links.show')) }" do %>
        <%= glyph 'plus' %>
      <%- end -%>
    </h3></div>
    <div class="panel-body">

      <table class="table table-hover monospace">
        <thead>
          <tr>
            <th><%= model_class.human_attribute_name(:vnum) %></th>
            <th><%= model_class.human_attribute_name(:keywords) %></th>
            <th><%= model_class.human_attribute_name(:sdesc) %></th>
            <th><%= model_class.human_attribute_name(:ldesc) %></th>
            <th><%= model_class.human_attribute_name(:object_type) %></th>
            <th>Wear Location</th>
            <th><%= model_class.human_attribute_name(:weight) %></th>
            <th><%= model_class.human_attribute_name(:cost) %></th>
            <th>Has Reset</th>
            <th><%=t '.actions', :default => t("helpers.actions") %></th>
          </tr>
        </thead>
        <tbody>
          <% @objs.order(:vnum).each do |obj| %>
            <tr>
                <td><%= obj.vnum %></td>
                <td><%= obj.keywords %></td>
                <td><%= obj.sdesc %></td>
                <td><%= obj.ldesc %></td>
                <td><%= object_type_from_num(obj.object_type) %></td>
                <td><%= obj.wear_location %></td>
                <td><%= obj.weight %></td>
                <td><%= obj.cost %></td>
                <td><%= obj.has_assoc_reset? %></td>
              <td>
                <%= link_to area_obj_path(@area, obj), :class => 'btn btn-xs', :title => "#{ t('.show', :default => t('helpers.links.show')) }" do %>
                  <%= glyph 'info-sign' %>
                <%- end -%>
                <%= link_to edit_area_obj_path(@area, obj), :class => 'btn btn-xs', :title => "#{ t('.edit', :default => t('helpers.links.edit')) }" do %>
                  <%= glyph 'pencil' %>
                <%- end -%>
                <%= link_to area_obj_path(@area, obj), :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-xs', :title => "#{ t('.destroy', :default => t('helpers.links.destroy')) }" do %>
                  <%= glyph 'remove' %>
                <%- end -%>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
      
    </div>

    <div class="panel-footer">
      <%= link_to 'New object', new_area_obj_path %> | 
      <%= link_to 'Back', area_path(@area) %>
    </div>
    
</div>

<br/>
<strong class="monospace">Formatted #OBJECTS Block:</strong>
<pre><%= render 'objs/objsblock' %></pre>
<br/>